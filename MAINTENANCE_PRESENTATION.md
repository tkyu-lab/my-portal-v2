# AI-to-Manual プラットフォーム
## 更新・保守ガイド - プレゼンテーション資料

---

# スライド 1: タイトルスライド

## AI-to-Manual プラットフォーム
### 更新・保守ガイド

**作成日**: 2026年1月15日  
**対象**: プロジェクトオーナー、開発者、運用チーム  
**目的**: 安定したプラットフォーム運用の実現

---

# スライド 2: プラットフォーム概要

## AI-to-Manual とは

**コンセプト**: 「AIを指揮し、コードを操る」

初心者からプロレベルまでのWeb開発スキルを段階的に習得できるAI学習プラットフォーム

### 主要機能

| 機能 | 説明 |
|------|------|
| 🏠 ホームページ | コンセプト紹介、ロードマップ表示 |
| 📝 学習ログ | ユーザーが進捗を投稿・共有 |
| 🎯 AIトレーニング | 習熟度別の問題生成と進捗管理 |
| 💬 質問フォーラム | ソクラテス式メンター、AIヒント生成 |
| 🏆 習熟度バッジ | マイルストーン達成時のバッジ付与 |
| 🔧 運用・保守 | SEO、セキュリティ、バックアップ管理 |
| 🔄 GitHub同期 | コード同期と修正履歴の可視化 |
| 🎓 クライアント対応 | トラブルシナリオの対話型学習 |

---

# スライド 3: システム構成

## 技術スタック

```
┌─────────────────────────────────────────┐
│          フロントエンド層                 │
│  React 19 + Tailwind CSS 4 + shadcn/ui  │
│            (Vite ビルド)                  │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│          API層 (tRPC)                    │
│  型安全なエンドツーエンド通信             │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│          バックエンド層                   │
│  Express 4 + Drizzle ORM                 │
│  AI連携 (LLM) + OAuth認証                │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│          データベース層                   │
│  MySQL/TiDB + S3ストレージ               │
└─────────────────────────────────────────┘
```

---

# スライド 4: 保守体系

## 保守タスクの階層構造

```
┌──────────────────────────────────────┐
│        年次レビュー (1月)             │
│  • 過去1年の成果評価                  │
│  • 今年の目標設定                     │
│  • 大規模機能追加の計画               │
└──────────────────────────────────────┘
           ↓
┌──────────────────────────────────────┐
│      四半期レビュー (3ヶ月ごと)       │
│  • 機能利用状況の分析                 │
│  • ユーザーフィードバック反映         │
│  • インフラ拡張計画の検討             │
└──────────────────────────────────────┘
           ↓
┌──────────────────────────────────────┐
│        月次保守 (毎月末)               │
│  • SEO最適化                          │
│  • コンテンツ更新                     │
│  • ユーザーデータ分析                 │
│  • 依存ライブラリ更新確認             │
└──────────────────────────────────────┘
           ↓
┌──────────────────────────────────────┐
│        週次保守 (毎週)                 │
│  • バックアップ確認                   │
│  • パフォーマンス監視                 │
│  • セキュリティパッチ確認             │
│  • ユーザーフィードバック確認         │
└──────────────────────────────────────┘
           ↓
┌──────────────────────────────────────┐
│        日次保守 (毎日)                 │
│  • サイト動作確認                     │
│  • ユーザーアクティビティ確認         │
│  • エラーログ確認                     │
└──────────────────────────────────────┘
```

---

# スライド 5: 日次保守タスク

## 毎日実施すべき確認項目

### ✅ 朝の定期確認（5分）

| 項目 | 確認方法 | 目標 |
|------|---------|------|
| **サーバー状態** | Dashboard確認 | running状態 |
| **ホームページ表示** | ブラウザアクセス | 正常表示 |
| **エラーログ** | コンソール確認 | エラーなし |

### 📊 ユーザーアクティビティ確認

```sql
-- 本日の新規投稿数
SELECT COUNT(*) FROM learning_logs 
WHERE DATE(createdAt) = CURDATE();

-- 本日の質問数
SELECT COUNT(*) FROM forum_questions 
WHERE DATE(createdAt) = CURDATE();
```

### 🚨 エラー検知

- ブラウザ開発者ツール（F12）でコンソールエラー確認
- サーバーログで500エラー確認
- ユーザーからの報告確認

---

# スライド 6: 週次保守タスク

## 毎週実施すべき確認項目

### 📅 スケジュール

| 曜日 | タスク | 所要時間 |
|------|--------|---------|
| **月** | バックアップ確認 | 10分 |
| **水** | パフォーマンス監視 | 15分 |
| **金** | セキュリティパッチ確認 | 20分 |

### 1️⃣ バックアップ確認（月曜日）

```
✓ Database バックアップ
✓ ユーザーデータ バックアップ
✓ 学習ログ バックアップ
✓ フォーラム投稿 バックアップ
✓ バッジ情報 バックアップ
```

### 2️⃣ パフォーマンス監視（水曜日）

**Lighthouse スコア目標**:

```
Performance:    90以上 ✓
Accessibility:  95以上 ✓
Best Practices: 95以上 ✓
SEO:            95以上 ✓
```

**応答時間目標**:

- ページ読み込み: < 2秒
- API応答: < 500ms
- DB クエリ: < 100ms

### 3️⃣ セキュリティパッチ確認（金曜日）

```bash
pnpm audit  # 脆弱性スキャン
```

**対応優先度**:

| 重要度 | 対応期限 | 対応方法 |
|--------|---------|---------|
| Critical | 即日 | 緊急パッチ |
| High | 1週間 | 次回更新時 |
| Medium | 1ヶ月 | 月次更新 |
| Low | 3ヶ月 | 定期更新 |

---

# スライド 7: 月次保守タスク

## 毎月末に実施すべき確認項目

### 1️⃣ SEO最適化（1日）

```
□ メタディスクリプション（160文字以内）
□ OGP画像の設定
□ サイトマップの更新
□ robots.txtの確認
□ 構造化データ（Schema.org）の検証
□ 内部リンク構造の確認
```

**Google Search Console での確認**:

- カバレッジ: エラーなし
- パフォーマンス: CTR・表示回数の確認
- 検査: ページインデックス状態

### 2️⃣ コンテンツ更新（中旬）

| コンテンツ | 更新頻度 | 確認項目 |
|-----------|---------|---------|
| ホームページ | 月1回 | 情報の正確性 |
| ブログ記事 | 週1回 | 情報の鮮度 |
| FAQ | 月1回 | 新しい質問対応 |
| チュートリアル | 四半期1回 | 最新技術対応 |

### 3️⃣ ユーザーデータ分析（末日）

**重要指標**:

```
📈 月間アクティブユーザー (MAU)
📊 学習ログ投稿数の推移
✅ トレーニング完了率
🎯 フォーラム活動度
🏆 バッジ取得数
```

### 4️⃣ 依存ライブラリ更新確認（末日）

```bash
pnpm outdated      # 更新可能パッケージ確認
pnpm update        # マイナーバージョンアップ
pnpm test          # テスト実行
pnpm build         # ビルド確認
```

---

# スライド 8: トラブルシューティング

## よくある問題と解決方法

### 問題1️⃣: ページが表示されない

**原因**:
- サーバーが起動していない
- ポート競合
- ビルドエラー
- ブラウザキャッシュ

**対応**:
```bash
pnpm dev              # サーバー起動
lsof -i :3000        # ポート確認
pnpm build           # ビルドエラー確認
Ctrl+Shift+Delete    # キャッシュクリア
```

### 問題2️⃣: データベース接続エラー

**原因**:
- 接続情報が間違っている
- データベースが起動していない
- マイグレーション未実行

**対応**:
```bash
echo $DATABASE_URL           # 接続情報確認
mysql -u root -p localhost  # 接続テスト
pnpm db:push                # マイグレーション実行
```

### 問題3️⃣: APIが応答しない

**原因**:
- サーバーエラー
- ネットワーク問題
- tRPCルーター定義エラー

**対応**:
```bash
tail -50 /var/log/server.log        # ログ確認
curl http://localhost:3000/api/trpc # API確認
grep -n "router" server/routers.ts  # ルーター確認
```

### 問題4️⃣: 画像が表示されない

**原因**:
- 画像ファイルが存在しない
- パスが間違っている
- ブラウザキャッシュ

**対応**:
```bash
ls -la client/public/        # ファイル確認
grep "src=" client/src/pages # パス確認
Ctrl+Shift+Delete           # キャッシュクリア
```

### 問題5️⃣: ユーザー認証に失敗する

**原因**:
- OAuth設定エラー
- セッションクッキー問題
- ブラウザ設定

**対応**:
```bash
echo $VITE_OAUTH_PORTAL_URL  # OAuth設定確認
F12 → Application → Cookies # クッキー確認
grep -i oauth server.log    # OAuthエラー確認
```

---

# スライド 9: バックアップ・復旧戦略

## バックアップ体系

```
┌─────────────────────────────────────┐
│      自動バックアップ                │
├─────────────────────────────────────┤
│ 日次: 毎日午前2時                   │
│ 週次: 毎週日曜日午前3時             │
│ 月次: 毎月1日午前4時                │
└─────────────────────────────────────┘
           ↓
┌─────────────────────────────────────┐
│      バックアップ対象                │
├─────────────────────────────────────┤
│ ✓ データベース全体                  │
│ ✓ ユーザーアップロード画像          │
│ ✓ 設定ファイル                      │
│ ✓ 学習ログ・フォーラム投稿          │
└─────────────────────────────────────┘
           ↓
┌─────────────────────────────────────┐
│      保存先                          │
├─────────────────────────────────────┤
│ • AWS S3 (プライマリ)               │
│ • ローカルストレージ (セカンダリ)   │
└─────────────────────────────────────┘
```

## 復旧手順

```
1. バックアップファイル確認
   aws s3 ls s3://backup-bucket/

2. バックアップダウンロード
   aws s3 cp s3://backup-bucket/backup_*.sql .

3. データベース復旧
   mysql -u root -p < backup_*.sql

4. ファイル復旧
   tar -xzf backup_*.tar.gz

5. サーバー再起動
   pnpm dev

6. 動作確認
   curl https://your-domain.manus.space/
```

---

# スライド 10: セキュリティ管理

## セキュリティチェックリスト

```
□ HTTPS/SSL証明書が有効か
□ データベースパスワードが強力か
□ APIキーが安全に管理されているか
□ ユーザーパスワードがハッシュ化されているか
□ SQLインジェクション対策は実装されているか
□ XSS対策は実装されているか
□ CSRF対策は実装されているか
□ レート制限が設定されているか
□ ログイン試行回数制限が設定されているか
□ 定期的なセキュリティ監査を実施しているか
```

## 環境変数の管理

**重要な環境変数**:

```
DATABASE_URL              # DB接続文字列
JWT_SECRET                # JWTトークン署名キー
VITE_APP_ID               # OAuth アプリケーションID
OAUTH_SERVER_URL          # OAuth サーバーURL
BUILT_IN_FORGE_API_KEY    # Manus API キー
```

**管理方法**:

1. Management UI の「Settings」→「Secrets」で管理
2. `.env` ファイルには絶対に保存しない
3. ローカル開発時は `.env.local` を使用
4. 定期的にキーをローテーション（3ヶ月ごと）

## セキュリティパッチ適用フロー

```
1. 脆弱性スキャン
   pnpm audit

2. 脆弱性を自動修正
   pnpm audit --fix

3. 手動修正が必要な場合
   pnpm add package-name@latest

4. テスト実行
   pnpm test

5. ビルド確認
   pnpm build

6. 本番環境に反映
```

---

# スライド 11: パフォーマンス最適化

## 最適化ポイント

### 1️⃣ 画像最適化

```bash
# 画像を圧縮
npx imagemin client/public/*.png --out-dir=client/public/

# WebP形式に変換
npx cwebp client/public/image.png -o client/public/image.webp
```

**効果**: 画像サイズを50-70%削減

### 2️⃣ キャッシュ設定

```
静的アセット:
  Cache-Control: public, max-age=31536000, immutable
  → 1年間キャッシュ

API:
  Cache-Control: no-cache
  → 毎回新しいデータ取得
```

**効果**: ページ読み込み時間を30-50%削減

### 3️⃣ データベース最適化

```sql
-- インデックスを追加
ALTER TABLE learning_logs ADD INDEX idx_userId (userId);
ALTER TABLE learning_logs ADD INDEX idx_createdAt (createdAt);

-- クエリを最適化
EXPLAIN SELECT * FROM learning_logs 
WHERE userId = 1 ORDER BY createdAt DESC LIMIT 10;
```

**効果**: クエリ実行時間を70-90%削減

### 4️⃣ バンドルサイズ削減

```bash
# バンドルサイズを分析
pnpm build --analyze

# 不要な依存関係を削除
pnpm remove unused-package
```

**効果**: バンドルサイズを20-40%削減

---

# スライド 12: 緊急対応フロー

## サイトがダウンした場合の対応

```
┌─────────────────────────────────────┐
│  【1分以内】状況把握                 │
├─────────────────────────────────────┤
│ • ステータスページで状態確認         │
│ • ユーザーからの報告確認             │
│ • サーバーログでエラー確認           │
└─────────────────────────────────────┘
           ↓
┌─────────────────────────────────────┐
│  【5分以内】一時対応                 │
├─────────────────────────────────────┤
│ • サーバーを再起動                   │
│ • キャッシュをクリア                 │
│ • CDNをリセット                      │
└─────────────────────────────────────┘
           ↓
┌─────────────────────────────────────┐
│  【15分以内】根本原因調査             │
├─────────────────────────────────────┤
│ • エラーログを詳細に確認             │
│ • DB接続を確認                       │
│ • メモリ使用率を確認                 │
└─────────────────────────────────────┘
           ↓
┌─────────────────────────────────────┐
│  【1時間以内】本格対応                │
├─────────────────────────────────────┤
│ • 必要に応じてロールバック           │
│ • バグ修正                           │
│ • 本番環境に反映                     │
└─────────────────────────────────────┘
           ↓
┌─────────────────────────────────────┐
│  【事後対応】                        │
├─────────────────────────────────────┤
│ • ユーザーへの通知                   │
│ • 原因分析レポート作成               │
│ • 再発防止策の実装                   │
└─────────────────────────────────────┘
```

## ロールバック手順

```
1. 前回の正常なチェックポイント確認
   Management UI → Dashboard → Checkpoint

2. ロールバック実行
   Management UI → Checkpoint → Rollback ボタン

3. 動作確認
   curl https://your-domain.manus.space/

4. ユーザーへ通知
   「一時的なエラーが発生していましたが、復旧しました」
```

---

# スライド 13: 機能追加の流れ

## 新機能追加プロセス

```
┌──────────────────────────────────────┐
│  ステップ1: 要件定義                 │
│  • 機能の説明                        │
│  • ユースケースの整理                │
│  • 技術仕様の確認                    │
│  • 受け入れ基準の定義                │
└──────────────────────────────────────┘
           ↓
┌──────────────────────────────────────┐
│  ステップ2: データベース設計          │
│  • テーブル設計                      │
│  • マイグレーション実行              │
│  • スキーマ検証                      │
└──────────────────────────────────────┘
           ↓
┌──────────────────────────────────────┐
│  ステップ3: バックエンド実装          │
│  • クエリヘルパー実装                │
│  • tRPCプロシージャ実装              │
│  • エラーハンドリング                │
└──────────────────────────────────────┘
           ↓
┌──────────────────────────────────────┐
│  ステップ4: フロントエンド実装        │
│  • UIコンポーネント実装              │
│  • tRPC呼び出し実装                  │
│  • ローディング・エラー状態          │
└──────────────────────────────────────┘
           ↓
┌──────────────────────────────────────┐
│  ステップ5: テスト実装                │
│  • ユニットテスト作成                │
│  • 統合テスト実行                    │
│  • 受け入れ基準の確認                │
└──────────────────────────────────────┘
           ↓
┌──────────────────────────────────────┐
│  ステップ6: ルーティング追加          │
│  • App.tsx にルート追加              │
│  • ナビゲーション更新                │
└──────────────────────────────────────┘
           ↓
┌──────────────────────────────────────┐
│  ステップ7: チェックポイント作成      │
│  • 変更をコミット                    │
│  • チェックポイント作成              │
│  • 本番環境に反映                    │
└──────────────────────────────────────┘
```

---

# スライド 14: 定期レビュー

## レビュー体系

### 📅 月次レビュー（毎月末）

**確認項目**:

```
□ ユーザー数の推移
□ 学習ログ投稿数
□ フォーラム活動度
□ システムの安定性
□ パフォーマンス指標
□ セキュリティインシデント
```

### 📊 四半期レビュー（3ヶ月ごと）

**確認項目**:

```
□ 機能の利用状況
□ ユーザーフィードバック
□ 技術的な改善点
□ 依存ライブラリの更新状況
□ セキュリティ監査結果
```

### 📈 年次レビュー（毎年1月）

**確認項目**:

```
□ 過去1年の成果
□ 今年の目標設定
□ 大規模な機能追加の計画
□ インフラストラクチャの拡張計画
□ セキュリティ戦略の見直し
```

---

# スライド 15: 重要な連絡先とリソース

## サポート連絡先

### 問題が発生した場合の対応順序

```
1️⃣ ドキュメント確認
   → MAINTENANCE_GUIDE.md のトラブルシューティング参照

2️⃣ ログ確認
   → サーバーログでエラーを確認

3️⃣ Manus サポート
   → https://help.manus.im

4️⃣ 開発チーム
   → 内部チャネルで相談
```

## 重要なファイル・ディレクトリ

```
MAINTENANCE_GUIDE.md       # 詳細な保守ガイド
drizzle/schema.ts          # データベーススキーマ
server/routers.ts          # tRPCルーター定義
client/src/pages/          # ページコンポーネント
package.json               # 依存ライブラリ定義
```

## 便利なコマンド

```bash
# 開発サーバー起動
pnpm dev

# テスト実行
pnpm test

# ビルド
pnpm build

# 本番環境起動
pnpm start

# データベースマイグレーション
pnpm db:push

# 脆弱性スキャン
pnpm audit
```

---

# スライド 16: まとめ

## 保守の3つの重要ポイント

### 1️⃣ **予防的保守**
- 日次・週次・月次の定期確認
- セキュリティパッチの定期適用
- バックアップの自動化

### 2️⃣ **監視と分析**
- パフォーマンス指標の継続監視
- ユーザーデータの定期分析
- エラーログの早期発見

### 3️⃣ **迅速な対応**
- トラブル発生時の対応フロー
- ロールバック体制の整備
- ユーザーへの透明な情報提供

## 成功の鍵

```
✅ 定期的な保守の実施
✅ セキュリティ意識の維持
✅ ユーザーフィードバックの活用
✅ チーム間の情報共有
✅ 継続的な改善
```

---

# スライド 17: Q&A

## よくある質問

**Q: 保守にはどのくらいの時間がかかりますか？**

A: 日次保守は5分程度、週次保守は45分程度、月次保守は2時間程度です。

**Q: セキュリティパッチはどのくらいの頻度で適用すべきですか？**

A: 重要度に応じて、Critical は即日、High は1週間以内、Medium は1ヶ月以内に適用してください。

**Q: バックアップはどのくらいの頻度で取るべきですか？**

A: 日次、週次、月次の3段階で自動バックアップを取ることをお勧めします。

**Q: サイトがダウンした場合、どのくらいで復旧できますか？**

A: 一時対応は5分以内、本格対応は1時間以内を目標としています。

**Q: 新しい機能を追加するには、どのくらいの時間がかかりますか？**

A: 機能の複雑さにより異なりますが、小規模な機能は1-2日、中規模な機能は1-2週間が目安です。

---

# スライド 18: 最後に

## 安定したプラットフォーム運用のために

このガイドに従うことで、以下を実現できます：

✨ **高い可用性** - 99.9% 以上のアップタイム  
🔒 **強固なセキュリティ** - 定期的な脆弱性対応  
⚡ **優れたパフォーマンス** - 高速で応答性の高いサイト  
😊 **ユーザー満足度の向上** - 安定したサービス提供  
📈 **ビジネス成長** - 継続的な改善と機能追加  

---

**ご質問やご不明な点がございましたら、お気軽にお問い合わせください。**

**最終更新**: 2026年1月15日
